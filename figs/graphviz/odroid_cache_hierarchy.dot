digraph odroid_cache_hierarchy {
    node [shape = record];
    ranksep = 0.20;
    nodesep = 0.20;
    splines = none;

    subgraph cluster_all {

    subgraph cluster_big {
        cpu_3 [label = "CPU 3", width = 2.0, style = filled, color = darkorange1];
        cpu_2 [label = "CPU 2", width = 2.0, style = filled, color = darkorange1];
        cpu_1 [label = "CPU 1", width = 2.0, style = filled, color = darkorange1];
        cpu_0 [label = "CPU 0", width = 2.0, style = filled, color = darkorange1];

        l1_3 [label = "32KB/32KB I/D-Cache", style = filled, color = darkolivegreen1];
        l1_2 [label = "32KB/32KB I/D-Cache", style = filled, color = darkolivegreen1];
        l1_1 [label = "32KB/32KB I/D-Cache", style = filled, color = darkolivegreen1];
        l1_0 [label = "32KB/32KB I/D-Cache", style = filled, color = darkolivegreen1];

        "cpu_3" -> "l1_3" [style = "invis"];
        "cpu_2" -> "l1_2" [style = "invis"];
        "cpu_1" -> "l1_1" [style = "invis"];
        "cpu_0" -> "l1_0" [style = "invis"];
    }

    subgraph cluster_little {
        cpu_7 [label = "CPU 7", width = 2.0, style = filled, color = darkorange1];
        cpu_6 [label = "CPU 6", width = 2.0, style = filled, color = darkorange1];
        cpu_5 [label = "CPU 5", width = 2.0, style = filled, color = darkorange1];
        cpu_4 [label = "CPU 4", width = 2.0, style = filled, color = darkorange1];

        l1_7 [label = "32KB/32KB I/D-Cache", style = filled, color = darkolivegreen1];
        l1_6 [label = "32KB/32KB I/D-Cache", style = filled, color = darkolivegreen1];
        l1_5 [label = "32KB/32KB I/D-Cache", style = filled, color = darkolivegreen1];
        l1_4 [label = "32KB/32KB I/D-Cache", style = filled, color = darkolivegreen1];

        "cpu_7" -> "l1_7" [style = "invis"];
        "cpu_6" -> "l1_6" [style = "invis"];
        "cpu_5" -> "l1_5" [style = "invis"];
        "cpu_4" -> "l1_4" [style = "invis"];
    }

    little_l2 [label = "512KB L2 Cache", width = 8.8, style = filled, color = darkolivegreen2];
    "l1_0" -> "little_l2";
    "l1_1" -> "little_l2";
    "l1_2" -> "little_l2";
    "l1_3" -> "little_l2";

    big_l2 [label = "2MB L2 Cache", width = 8.8, style = filled, color = darkolivegreen2];
    "l1_4" -> "big_l2";
    "l1_5" -> "big_l2";
    "l1_6" -> "big_l2";
    "l1_7" -> "big_l2";

    main_memory [label = "2GB Memory", width = 17.8, style = filled, color = darkolivegreen3];
    "little_l2" -> "main_memory" [style = "invis"];
    "big_l2" -> "main_memory" [style = "invis"];

    label = "ODROID XU3 Memory Hierarchy"

    }
}
